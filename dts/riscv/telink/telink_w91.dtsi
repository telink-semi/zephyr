/*
 * Copyright (c) 2023 Telink Semiconductor
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/dts-v1/;

/ {
	#address-cells = <1>;
	#size-cells = <1>;

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;
		cpu0: cpu@0 {
			reg = <0>;
			clock-frequency = <24000000>;
			compatible ="telink,w91", "riscv";
		};
	};

	soc {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "telink,telink_w91-soc";
		ranges;

		ram_ilm: memory@0 {
			compatible = "mmio-sram";
			reg = <0x00000000 0x00008000>;
		};

		ram_dlm: memory@200000 {
			compatible = "mmio-sram";
			reg = <0x00200000 0x0002e000>;
		};

		mtimer: timer@e6000000 {
			compatible = "telink,machine-timer";
			reg = <0xe6000000 0x10000>;
			interrupts = <7 0>;
			interrupt-parent = <&plic0>;
		};

		flash_mspi: flash-controller@A3FFFF00 {
			compatible = "telink,w91-flash-controller";
			reg = <0xA3FFFF00 0x100>;

			#address-cells = <1>;
			#size-cells = <1>;

			flash: flash@80000000 {
				compatible = "soc-nv-flash";
				write-block-size = <1>;
			};
		};

		plic0: interrupt-controller@e4000000 {
			compatible = "sifive,plic-1.0.0";
			#address-cells = <0>;
			#interrupt-cells = <2>;
			interrupt-controller;
			reg = < 0xe4000000 0x00001000
					0xe4002000 0x00000800
					0xe4200000 0x00010000 >;
			reg-names = "prio", "irq_en", "reg";
			riscv,max-priority = <3>;
			riscv,ndev = <46>;
		};

		trng0: trng@80101800 {
			compatible = "telink,w91-trng";
			reg = <0x80101800 0x20>;
			status = "disabled";
		};

		gpio0: gpio0 {
			compatible = "telink,w91-gpio";
			gpio-controller;
			status = "disabled";
			#gpio-cells = <2>;
		};
	};
};
